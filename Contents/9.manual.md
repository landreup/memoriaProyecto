# Manual de instalación # {#manual}

En este paso se explican todos los pasos para dejar la aplicación funcionando. Se asume que se tiene un servidor con las versiones descritas en la memoria de Apache, Django, Lighttpd y Python instaladas. 

## Copiar ficheros a los directorios ##

Será necesario descomprimir el fichero del proyecto. Dentro de este fichero habrá tres directorios. Estos directorios serán `UJI`, `Apache` y `Lighttpd`.

La carpeta `UJI` se deberá ubicar en el sitio definitivo donde deberá residir la aplicación. Esta ubicación puede ser cualquier directorio del sistema de ficheros que el usuario que ejecute la aplicación web pueda tener acceso y a partir de ahora a esta ruta nos referiremos como `ruta`.

El fichero de configuración del servidor *Apache* se deberá copiar dentro de la carpeta de `sites-available`. Una vez realizado esto, será necesario que se cree un enlace simbólico al directorio `sites-enabled` para que la configuración entre en funcionamiento al reiniciar el servidor.

Por otra parte, para el servidor *Lighttpd* se deberá copiar el fichero `lighttpd.conf` a su directorio de configuración (en Ubuntu `/etc/lighttpd`). 

## Configuración de los servicios ##

En esta sección se detallaran las diferentes configuraciones que se deben realizar en los programas que participan en la aplicación.

### Configuración de la aplicación ###

Para la configuración de la aplicación Django, será necesario editar el fichero `settings.py` que se encontrará dentro la carpeta `UJI`. En este fichero será necesario indicar los datos del servidor de base de datos. El servidor de base de datos podrá ser PostgreSQL o Mysql, sólo será necesario indicar el tipo en la configuración. También será necesario indicar el nombre de la base de datos y el usuario y la contraseña del usuario con permisos de consulta y creación de tablas en la base de datos. A continuación se deberá indicar el nombre del servidor de la base de datos y el puerto sobre el que se ejecuta este. Por otra parte también será necesario indicar la información sobre el servidor SMTP sobre el que se realizará el envio de correos electrónicos. Para que los enlaces que se envíen por correo electrónico funciones se deberá indicar la dirección web sobre la cuál se podrá acceder al servidor web.

### Configuración del servidor web Apache ###

Para que la configuración que se ha definido en el servidor *Apache*, será necesario sustituir en el fichero que se ha copiado en la carpeta `sites-available` el nombre de `eros.act.uji.es` por el nombre del servidor web y sustituir también las rutas que incluyen la carpeta `UJI` por la `ruta`.

También será necesario editar el fichero con la ruta `UJI/apache/django.wsgi`. En este fichero se deberá sustituir por la `ruta` a la carpeta UJI.

### Configuración del proceso Cron ###

Será necesario definir un proceso Cron que se ejecute todos los días. El comando que deberá ejecutar este proceso será `/usr/bin/python ruta/manage.py sendForms`.

## Pantalla de configuración de la información de la aplicación ##

La aplicación tendrá una pantalla de configuración inicial. Esta pantalla se encargará de inicializar la aplicación para que la estructura de datos tenga la información básica para funcionar. Esta configuración se realizará mediante la interfaz web. La ruta de acceso a la web será `/aplicacio/inicia/`. Esta ventana solicitará la autenticación de la universidad, ya que el usuario que inicie la aplicación será creado automáticamente como coordinador.